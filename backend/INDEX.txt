================================================================================
ÃNDICE RÃPIDO - Auditoria AnuÃ¡rio EstatÃ­stico UnB (Backend MVP)
================================================================================

ğŸš€ COMEÃ‡AR AQUI:
  1. Ler: QUICKSTART.md
  2. Executar: bash run.sh
  3. Em outro terminal: bash test.sh

ğŸ“– DOCUMENTAÃ‡ÃƒO:
  âœ“ README.md              - DocumentaÃ§Ã£o completa (setup, API, modelos)
  âœ“ QUICKSTART.md          - 3 passos para comeÃ§ar
  âœ“ EXAMPLES.txt           - 40+ exemplos de curl prontos
  âœ“ DEPENDENCIES.md        - Setup de dependÃªncias (Linux/macOS/Windows)
  âœ“ MANIFEST.txt           - Resumo executivo completo

ğŸ’» CÃ“DIGO PRINCIPAL (app/):
  âœ“ main.py                - 453 linhas - Endpoints FastAPI
  âœ“ check_engine.py        - 321 linhas - Regras R1-R6 de checagem
  âœ“ toc_extractor.py       - 159 linhas - Descoberta automÃ¡tica de TOC
  âœ“ section_extractor.py   - 151 linhas - ExtraÃ§Ã£o de seÃ§Ãµes e tabelas
  âœ“ report_generator.py    - 329 linhas - GeraÃ§Ã£o HTML/PDF
  âœ“ models.py              - 79 linhas  - Modelos SQLAlchemy (6 tabelas)
  âœ“ schemas.py             - 73 linhas  - Schemas Pydantic
  âœ“ database.py            - 24 linhas  - Setup SQLite
  âœ“ config.py              - 26 linhas  - ConfiguraÃ§Ãµes
  âœ“ __init__.py            - 1 linha    - Package init

ğŸ”§ CONFIGURAÃ‡ÃƒO:
  âœ“ requirements.txt       - DependÃªncias Python (10 packages)
  âœ“ .gitignore             - ConfiguraÃ§Ã£o git

ğŸš¢ DEPLOYMENT:
  âœ“ run.sh                 - Script de inicializaÃ§Ã£o (modo desenvolvimento)
  âœ“ test.sh                - Script de teste automatizado
  âœ“ Dockerfile             - Container Docker
  âœ“ docker-compose.yml     - Docker Compose

ğŸ“Š ESTRUTURA DO BANCO:
  reviews           - ID, URL, anos, data criaÃ§Ã£o
  sections          - TOC extraÃ­do (title, url, anchor, level)
  check_runs        - ExecuÃ§Ãµes de checagem (section/page mode)
  check_results     - Resultados (rule, severity, message, evidence)
  manual_reviews    - RevisÃµes manuais por seÃ§Ã£o

ğŸ” ENDPOINTS (9 total):
  POST   /reviews                            â†’ Criar review + extrair TOC
  GET    /reviews/{id}                       â†’ Obter review
  GET    /reviews/{id}/sections              â†’ Listar seÃ§Ãµes
  POST   /reviews/{id}/sections/{sid}/run-checks  â†’ Checar 1 seÃ§Ã£o
  GET    /reviews/{id}/sections/{sid}/results     â†’ Ver resultados
  POST   /reviews/{id}/run-all?max_pages=50       â†’ Checar todas as pÃ¡ginas
  POST   /reviews/{id}/sections/{sid}/manual      â†’ Salvar revisÃ£o manual
  GET    /reviews/{id}/export?format=html         â†’ Exportar relatÃ³rio
  GET    /downloads/{filename}               â†’ Serve arquivos

ğŸ“‹ REGRAS DE CHECAGEM (R1-R6):
  R1: Year Checks             (4 verificaÃ§Ãµes de ano)
  R2: Decimal Separator       (detecÃ§Ã£o de ponto vs vÃ­rgula)
  R3: Table Source Required   (Fonte: obrigatÃ³ria)
  R4: Table Totals            (validaÃ§Ã£o de somas)
  R5: Table Completeness      (cÃ©lulas vazias, ND, parseabilidade)
  R6: Total Row Style         (destaque visual da linha Total)

âœ… VALIDAÃ‡ÃƒO ESPERADA:
  URL: https://anuariounb2025.netlify.app/
  report_year: 2025, base_year: 2024
  
  Falhas detectadas automaticamente:
  âŒ "AnuÃ¡rio EstatÃ­stico 2024" â†’ R1_wrong_anuario_year FAIL
  âŒ "20234" â†’ R1_invalid_year_format FAIL

ğŸ“¦ STACK:
  âœ… Python 3.11+
  âœ… FastAPI + Uvicorn
  âœ… BeautifulSoup4
  âœ… pandas + lxml
  âœ… SQLite + SQLAlchemy
  âœ… Jinja2
  âœ… WeasyPrint (opcional, para PDF)

ğŸ“Š ESTATÃSTICAS:
  Arquivos:           21 (10 Python, 11 config/docs)
  Linhas de cÃ³digo:   1.616 Python
  DocumentaÃ§Ã£o:       5 arquivos (2.600+ linhas)
  Tamanho:            ~100KB

ğŸ¯ FEATURES:
  âœ… Descoberta automÃ¡tica de TOC com heurÃ­stica robusta
  âœ… ExtraÃ§Ã£o de seÃ§Ãµes com suporte a anchors
  âœ… AnÃ¡lise de tabelas (pandas + detecÃ§Ã£o de fonte)
  âœ… 6 regras de qualidade automÃ¡ticas
  âœ… PersistÃªncia em SQLite
  âœ… 9 endpoints RESTful
  âœ… GeraÃ§Ã£o de relatÃ³rio HTML/PDF
  âœ… RevisÃ£o manual integrada
  âœ… Testes automatizados
  âœ… DocumentaÃ§Ã£o completa

ğŸ” SEGURANÃ‡A:
  âœ… ValidaÃ§Ã£o com Pydantic
  âœ… SQL injection prevention (SQLAlchemy ORM)
  âœ… CORS pronto para produÃ§Ã£o
  âœ… Tipos bem definidos

âš¡ PERFORMANCE:
  âœ… Async/await com FastAPI
  âœ… Background tasks para run-all
  âœ… DeduplicaÃ§Ã£o de URLs
  âœ… Caching automÃ¡tico no SQLite

ğŸ§ª TESTES:
  âœ… Script test.sh para validaÃ§Ã£o completa
  âœ… 40+ exemplos de curl em EXAMPLES.txt
  âœ… Caso de teste com falhas esperadas

ğŸ“š PRÃ“XIMAS ETAPAS:
  1. Ler QUICKSTART.md (2 min)
  2. Executar bash run.sh (30 seg)
  3. Em outro terminal: bash test.sh (1 min)
  4. Abrir relatÃ³rio HTML gerado
  5. Consultar banco de dados: sqlite3 anuario_audit.db
  6. Ver exemplos avanÃ§ados em EXAMPLES.txt

================================================================================
STATUS: âœ… PRONTO PARA USAR - NENHUMA CONFIGURAÃ‡ÃƒO NECESSÃRIA
================================================================================
